# =============================================================================
# Beam Deployment Configuration
# =============================================================================
# This file contains all environment variables needed to configure the Beam
# media streaming platform for deployment via Docker/Podman Compose.
#
# Copy this file to `.env` and customize the values for your deployment.
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
# Database connection settings for the PostgreSQL instance

# Database user (default: beam)
POSTGRES_USER=beam

# Database password (CHANGE THIS IN PRODUCTION!)
POSTGRES_PASSWORD=password

# Database name (default: beam)
POSTGRES_DB=beam

# PostgreSQL port (default: 5432)
POSTGRES_PORT=5432

# Full database URL for beam-stream to connect
# Format: postgres://username:password@host:port/database
DATABASE_URL=postgres://beam:password@postgres:5432/beam

# -----------------------------------------------------------------------------
# Beam Stream (Backend) Configuration
# -----------------------------------------------------------------------------
# Configuration for the Rust backend service (beam-stream)

# Address and port for the backend to bind to (default: 0.0.0.0:8000)
BIND_ADDRESS=0.0.0.0:8000

# Public URL where the backend is accessible (used for CORS, links, etc.)
SERVER_URL=http://localhost:8000

# Enable Prometheus metrics endpoint (true/false, 1/0, yes/no, on/off)
ENABLE_METRICS=false

# Directory containing video files to be streamed
VIDEO_DIR=/videos

# Directory for transcoding cache and temporary files
CACHE_DIR=/cache

# Rust logging level (trace, debug, info, warn, error)
# Can be configured per-module, e.g.: beam_stream=debug,tower_http=info
RUST_LOG=beam_stream=info,tower_http=debug,axum=debug

# -----------------------------------------------------------------------------
# Beam Web (Frontend) Configuration
# -----------------------------------------------------------------------------
# Configuration for the React frontend (beam-web)

# Application title displayed in the browser
C_APP_TITLE=Beam

# URL of the beam-stream backend server
# This is used by the frontend to make GraphQL and streaming requests
C_STREAM_SERVER_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Container Port Mappings
# -----------------------------------------------------------------------------
# Host ports for accessing services (container ports are fixed internally)

# Host port for beam-stream backend (maps to container port 8000)
STREAM_HOST_PORT=8000

# Host port for beam-web frontend (maps to container port 80)
WEB_HOST_PORT=8080

# Host port for PostgreSQL (maps to container port 5432)
POSTGRES_HOST_PORT=5432

# -----------------------------------------------------------------------------
# Volume Paths (Optional - for custom host paths)
# -----------------------------------------------------------------------------
# By default, volumes are managed by Docker/Podman. Uncomment and set these
# to use specific host directories instead.

# Host path for video files (uncomment to use a specific directory)
# HOST_VIDEO_DIR=/path/to/your/videos

# Host path for cache files (uncomment to use a specific directory)
# HOST_CACHE_DIR=/path/to/your/cache

# Host path for PostgreSQL data (uncomment to use a specific directory)
# HOST_POSTGRES_DATA=/path/to/your/postgres/data

